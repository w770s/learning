{"ast":null,"code":"var _jsxFileName = \"/Users/w770s/learning/reactapp/jianshu/src/page/home/component/writer.js\";\nimport React, { Component } from 'react';\nimport { WriterWrapper, WriterBest, WriterChange, WriterItem, WriterName } from '../style';\nimport { connect } from 'react-redux';\nimport { actionCreator } from '../store';\n\nclass Writer extends Component {\n  pagetatusudge(page, endNum, NewList, pageList) {\n    for (let i = (page - 1) * 5; i < endNum; i++) {\n      NewList.find(item => {\n        if (item.id - 1 === i) {\n          pageList.push(React.createElement(WriterItem, {\n            key: NewList[i].id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 13\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            className: \"writer-avator\",\n            alt: \"\",\n            src: NewList[i].imgUrl,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 14\n            },\n            __self: this\n          }), React.createElement(WriterName, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 15\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"writer-name\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 16\n            },\n            __self: this\n          }, NewList[i].name), React.createElement(\"div\", {\n            className: \"writer-situation\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 17\n            },\n            __self: this\n          }, NewList[i].content)), React.createElement(\"div\", {\n            className: \"writer-Focus\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 19\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: \"iconfont addfocus\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 20\n            },\n            __self: this\n          }, \"\\uE61D\"), \"\\u5173\\u6CE8\")));\n        }\n      });\n    }\n  }\n\n  changePage() {\n    const _this$props = this.props,\n          list = _this$props.list,\n          page = _this$props.page,\n          total = _this$props.total,\n          totalPage = _this$props.totalPage,\n          changeList = _this$props.changeList;\n    const NewList = list.toJS();\n    const pageList = [];\n\n    if (page < totalPage) {\n      this.pagetatusudge(page, page * 5, NewList, pageList);\n    } else {\n      this.pagetatusudge(page, total, NewList, pageList);\n    }\n\n    return React.createElement(WriterWrapper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(WriterBest, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"\\u63A8\\u8350\\u4F5C\\u8005\", React.createElement(WriterChange, {\n      onClick: () => {\n        changeList(this.chageebin, page, totalPage);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"iconfont\",\n      ref: icon => {\n        this.chageebin = icon;\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"\\uE746\"), \"\\u6362\\u4E00\\u6279\")), pageList, React.createElement(\"div\", {\n      className: \"writer-more\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"\\u67E5\\u770B\\u5168\\u90E8\", React.createElement(\"i\", {\n      className: \"iconfont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"\\uE625\")));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, this.changePage());\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  list: state.getIn(['home', 'WriterList']),\n  total: state.getIn(['home', 'total']),\n  page: state.getIn(['home', 'page']),\n  totalPage: state.getIn(['home', 'totalPage'])\n});\n\nconst mapDispatchToprops = dispatch => {\n  return {\n    changeList(spin, page, totalPage) {\n      let originAngle = spin.style.transform.replace(/[^0-9]/ig, '');\n\n      if (originAngle) {\n        originAngle = parseInt(originAngle, 10);\n      } else {\n        originAngle = 0;\n      } // spin.style.transform = 'rotate('+(originAngle + 360)+'deg)'\n\n\n      spin.style.transform = \"rotate(\".concat(originAngle + 360, \"deg)\");\n\n      if (page < totalPage) {\n        dispatch(actionCreator.changeWriterList(page + 1));\n      } else {\n        dispatch(actionCreator.changeWriterList(1));\n      }\n    }\n\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToprops)(Writer);","map":{"version":3,"sources":["/Users/w770s/learning/reactapp/jianshu/src/page/home/component/writer.js"],"names":["React","Component","WriterWrapper","WriterBest","WriterChange","WriterItem","WriterName","connect","actionCreator","Writer","pagetatusudge","page","endNum","NewList","pageList","i","find","item","id","push","imgUrl","name","content","changePage","props","list","total","totalPage","changeList","toJS","chageebin","icon","render","mapStateToProps","state","getIn","mapDispatchToprops","dispatch","spin","originAngle","style","transform","replace","parseInt","changeWriterList"],"mappings":"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","sourcesContent":["import React,{Component} from 'react'\nimport {WriterWrapper,WriterBest,WriterChange, WriterItem, WriterName} from '../style'\nimport {connect} from 'react-redux'\nimport { actionCreator } from '../store'\n\nclass Writer extends Component{\n\n    pagetatusudge(page,endNum,NewList,pageList){\n        for(let i=(page-1)*5;i<endNum;i++){\n            NewList.find((item)=>{\n                if((item.id-1)===i){\n                    pageList.push(\n                        <WriterItem key={NewList[i].id}>\n                            <img className='writer-avator' alt='' src={NewList[i].imgUrl} />\n                            <WriterName>\n                                <div className='writer-name'>{NewList[i].name}</div>\n                                <div className='writer-situation'>{NewList[i].content}</div>\n                            </WriterName>\n                            <div className='writer-Focus'>\n                                <i className='iconfont addfocus'>&#xe61d;</i>\n                                关注\n                            </div>\n                        </WriterItem>\n                    )\n                }\n            })\n        }\n    }\n\n    changePage(){\n        const {list,page, total, totalPage, changeList} = this.props\n        const NewList = list.toJS()\n        const pageList = []\n        if(page<totalPage){\n            this.pagetatusudge(page,page*5,NewList,pageList)\n        }\n        else{\n            this.pagetatusudge(page,total,NewList,pageList)\n        }\n\n        return(\n            <WriterWrapper>\n                <WriterBest>\n                    推荐作者\n                    <WriterChange onClick={()=>{changeList(this.chageebin,page,totalPage)}}>\n                        <i className='iconfont' ref={(icon)=>{this.chageebin = icon}}>&#xe746;</i>换一批\n                    </WriterChange>\n                </WriterBest>\n                {pageList}\n                <div className='writer-more'>\n                    查看全部\n                    <i className='iconfont'>&#xe625;</i>\n                </div>\n            </WriterWrapper>\n        )\n\n    }\n\n    render() {\n        return(\n            <div>\n                {this.changePage()}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) =>({\n    list: state.getIn(['home','WriterList']),\n    total: state.getIn(['home','total']),\n    page: state.getIn(['home','page']),\n    totalPage: state.getIn(['home','totalPage'])\n})\n\nconst mapDispatchToprops = (dispatch) =>{\n    return{\n        changeList(spin,page,totalPage){\n            let originAngle = spin.style.transform.replace(/[^0-9]/ig,'')\n            if(originAngle){\n                originAngle = parseInt(originAngle,10)\n            }\n            else{\n                originAngle = 0\n            }\n            // spin.style.transform = 'rotate('+(originAngle + 360)+'deg)'\n            spin.style.transform = `rotate(${originAngle+360}deg)`\n            if(page<totalPage){\n                dispatch(actionCreator.changeWriterList(page+1))\n            }\n            else{\n                dispatch(actionCreator.changeWriterList(1))\n            }\n        }\n    }\n}\n\nexport default connect(mapStateToProps,mapDispatchToprops)(Writer)\n"]},"metadata":{},"sourceType":"module"}