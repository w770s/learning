{"ast":null,"code":"var _jsxFileName = \"/Users/w770s/learning/reactapp/jianshu/src/page/home/index.js\";\nimport React, { Component, Fragment } from 'react';\nimport Topic from './component/topic';\nimport List from './component/list';\nimport Recommend from './component/recommend';\nimport Writer from './component/writer';\nimport { connect } from 'react-redux';\nimport { actionCreator } from './store';\nimport { HomeWrappper, HomeWrappperLeft, HomeWrappperRight, BackToTop } from './style'; // const Home = ()=>(\n//     <Fragment>\n//         <HomeWrappper imgurl=\"https://upload.jianshu.io/admin_banners/web_images/4687/0c0c3a40f4453bad58b24e3580f295eeeb453212.png?imageMogr2/auto-orient/strip|imageView2/1/w/1250/h/540\">\n//             <HomeWrappperLeft>\n//                 <img className='banner' alt='' src='//upload.jianshu.io/admin_banners/web_images/4680/f3832b8ec185f3772a31960a2494964132f29ce0.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/1250/h/540' />\n//                 <Topic />\n//                 <List />\n//             </HomeWrappperLeft>\n//             <HomeWrappperRight>\n//                 <Recommend />\n//                 <Writer />\n//             </HomeWrappperRight>\n//         </HomeWrappper>\n//     </Fragment>\n// )\n//\n\nclass Home extends Component {\n  componentWillMount() {\n    this.props.getApiMessage();\n    this.bindEvent();\n  }\n\n  bindEvent() {\n    window.addEventListener(\"scroll\", this.props.scrollGoBack);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.props.scrollGoBack);\n  }\n\n  showScrollButton() {\n    if (this.props.shouldShowTop) {\n      return React.createElement(BackToTop, {\n        onClick: this.props.backtotop,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"iconfont\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, \"\\uE625\"));\n    } else {\n      return null;\n    }\n  }\n\n  render() {\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(HomeWrappper, {\n      imgurl: \"https://upload.jianshu.io/admin_banners/web_images/4687/0c0c3a40f4453bad58b24e3580f295eeeb453212.png?imageMogr2/auto-orient/strip|imageView2/1/w/1250/h/540\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(HomeWrappperLeft, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"banner\",\n      alt: \"\",\n      src: \"https://upload.jianshu.io/admin_banners/web_images/4680/f3832b8ec185f3772a31960a2494964132f29ce0.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/1250/h/540\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(Topic, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(List, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    })), React.createElement(HomeWrappperRight, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(Recommend, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), React.createElement(Writer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    })), this.showScrollButton()));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  shouldShowTop: state.getIn(['home', 'shouldShowTop'])\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getApiMessage() {\n      dispatch(actionCreator.firstShowWriterList());\n    },\n\n    backtotop() {\n      window.scrollTo(0, 0);\n    },\n\n    scrollGoBack() {\n      const scrollTop = document.documentElement.scrollTop;\n\n      if (scrollTop > 400) {\n        dispatch(actionCreator.showScrollTop());\n      } else {\n        dispatch(actionCreator.closeScrollTop());\n      }\n    }\n\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","map":{"version":3,"sources":["/Users/w770s/learning/reactapp/jianshu/src/page/home/index.js"],"names":["React","Component","Fragment","Topic","List","Recommend","Writer","connect","actionCreator","HomeWrappper","HomeWrappperLeft","HomeWrappperRight","BackToTop","Home","componentWillMount","props","getApiMessage","bindEvent","window","addEventListener","scrollGoBack","componentWillUnmount","removeEventListener","showScrollButton","shouldShowTop","backtotop","render","mapStateToProps","state","getIn","mapDispatchToProps","dispatch","firstShowWriterList","scrollTo","scrollTop","document","documentElement","showScrollTop","closeScrollTop"],"mappings":"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","sourcesContent":["import React,{Component,Fragment} from 'react'\nimport Topic from './component/topic'\nimport List from './component/list'\nimport Recommend from './component/recommend'\nimport Writer from './component/writer'\nimport {connect} from 'react-redux'\nimport {actionCreator} from './store'\nimport {HomeWrappper,HomeWrappperLeft,HomeWrappperRight,BackToTop} from './style'\n\n// const Home = ()=>(\n//     <Fragment>\n//         <HomeWrappper imgurl=\"https://upload.jianshu.io/admin_banners/web_images/4687/0c0c3a40f4453bad58b24e3580f295eeeb453212.png?imageMogr2/auto-orient/strip|imageView2/1/w/1250/h/540\">\n//             <HomeWrappperLeft>\n//                 <img className='banner' alt='' src='//upload.jianshu.io/admin_banners/web_images/4680/f3832b8ec185f3772a31960a2494964132f29ce0.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/1250/h/540' />\n//                 <Topic />\n//                 <List />\n//             </HomeWrappperLeft>\n//             <HomeWrappperRight>\n//                 <Recommend />\n//                 <Writer />\n//             </HomeWrappperRight>\n//         </HomeWrappper>\n//     </Fragment>\n// )\n//\nclass Home extends Component{\n\n    componentWillMount(){\n        this.props.getApiMessage()\n        this.bindEvent()\n    }\n\n    bindEvent(){\n        window.addEventListener(\"scroll\", this.props.scrollGoBack)\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener(\"scroll\", this.props.scrollGoBack)\n    }\n\n    showScrollButton(){\n        if(this.props.shouldShowTop){\n            return(\n                <BackToTop onClick={this.props.backtotop}>\n                    <i className='iconfont'>&#xe625;</i>\n                </BackToTop>\n            )\n        }\n        else{\n            return null\n        }\n    }\n\n    render() {\n        return(\n            <Fragment>\n                <HomeWrappper imgurl=\"https://upload.jianshu.io/admin_banners/web_images/4687/0c0c3a40f4453bad58b24e3580f295eeeb453212.png?imageMogr2/auto-orient/strip|imageView2/1/w/1250/h/540\">\n                    <HomeWrappperLeft>\n                        <img className='banner' alt='' src='https://upload.jianshu.io/admin_banners/web_images/4680/f3832b8ec185f3772a31960a2494964132f29ce0.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/1250/h/540' />\n                        <Topic />\n                        <List />\n                    </HomeWrappperLeft>\n                    <HomeWrappperRight>\n                        <Recommend />\n                        <Writer />\n                    </HomeWrappperRight>\n                    {this.showScrollButton()}\n                </HomeWrappper>\n            </Fragment>\n        )\n    }\n}\n\nconst mapStateToProps = (state) =>({\n    shouldShowTop : state.getIn(['home','shouldShowTop'])\n})\n\nconst mapDispatchToProps = (dispatch) =>{\n    return{\n        getApiMessage(){\n            dispatch(actionCreator.firstShowWriterList())\n        },\n        backtotop(){\n            window.scrollTo(0,0)\n        },\n        scrollGoBack(){\n            const scrollTop = document.documentElement.scrollTop\n            if(scrollTop>400){\n                dispatch(actionCreator.showScrollTop())\n            }\n            else{\n                dispatch(actionCreator.closeScrollTop())\n            }\n        }\n    }\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Home)\n"]},"metadata":{},"sourceType":"module"}